## ✅ Databases

관계형 데이터베이스 (RDBMS, Relational Databases Management System)에서는 데이터가 여러 개의 2차원 테이블에 저장되고 관리됩니다.

웹 서비스에서 필요한 데이터를 데이터베이스 시스템에 저장하기 위해 `정규화`된 테이블을 구축하게 됩니다.

이런 과정을 `스키마 (Schema) 설계`를 한다고 일컫습니다.

스키마 설계 과정을 거친 후 실제 물리적인 서버에는 API나 Query문을 통해 데이터베이스 객체를 작성, 삭제, 관리하게 됩니다.

<br>

### 📌 Database Object

`데이터베이스 객체`는 데이터베이스 내에 정의하는 모든 것을 가리킵니다.

데이터베이스 내부에서 실체를 가지는 대상을 가리키는데요,  
다양한 __`종류`__ 중 3가지에 대해 간단하게 알아보겠습니다. 

1. `2차원 테이블 (Table)`
    - 행(가로, row, record)과 열(세로, column, field)로 구성된 데이터 
    집합입니다.
    - 실제 데이터를 저장하는 공간입니다.
2. `뷰 (View)` 
    - 데이터베이스에 존재하는 일종의 가상 테이블입니다.
    - 실제 데이터를 저장하는 공간이 아닌, 데이터를 보여주기만 합니다.
3. `인덱스 (Index)`
    - 데이터베이스 테이블의 검색, 수정, 삭제 속도를 향상시키기 위한 자료구조입니다.
    - 데이터베이스의 저장공간을 사용하여 전반적인 시스템 부하를 줄일 수 있습니다.

외에도 다양한 종류가 있으며,  
데이터베이스 객체의 종류에 따라 저장되는 데이터도 달라집니다.

<br>

데이터베이스 객체의 **`명명 규칙`** 은 다음과 같습니다.

- 기존 이름이나 예약어와 중복되면 안됩니다.

- 숫자로 시작할 수 없습니다.

- 언더스코어(`_`) 이외의 기호는 사용할 수 없습니다.

- 한글을 사용할 때는 더블쿼트(MySQL에서는 백쿼트)로 감싸야합니다.

- 시스템이 허용하는 길이를 초과하지 않는다.

- 객체가 담고 있는 정보를 명학하게 표현할 수 있는 이름을 선택합니다.

<br>
<br>

### 📌 Schema (스키마)

우리는 앞에서 `스키마 설계`라는 단어를 접했는데요.

먼저 스키마란 `데이터베이스의 구조와 제약 조건에 관한 전번적인 명세를 기술한 것`을 가리킵니다.

구조는 다음 세가지를 포함합니다.

1. `속성 (Attribute)`: 개체의 특성을 나타납니다.

2. `개체 (Entity)`: 속성들의 집합으로 이루어져있습니다.

3. `관계 (Relationship)`: 개체 사이의 관계를 나타냅니다.

<br> 

위에서 알아본 데이터베이스 객체는 `스키마 (Schema)`라는 컨테이너에 만들어집니다.

`MySQL`에 접속하면 기본적으로 볼 수 있는 스키마가 있습니다.

다음 명령어를 입력해주세요.

```
mysql> show databases;
```

`information_schema` 나 `performance_schema`가 그것인데요.

`MySQL` 서버 관리를 위해 필요한 테이블, 뷰, 인덱스 등 데이터베이스 객체를 담고 있습니다.

테이블은 열 (filed)을 정의하여 담을 수 있고,  
스키마틑 이 테이블을 담을 수 있는 하나의 컨테이너가 되는 것입니다.

<br>
<br>

### 📌SQL Statements

스키마를 생성하기 앞서 쿼리문에 대해 알아보겠습니다.

__1. DDL__

`Data Define Language`의 약자로 스키마 내부의 객체를 `정의`하고 `관리`할 때 사용하는 쿼리문입니다.

대표적은 DDL은 다음과 같습니다.

- `CREATE` : 데이터베이스, 테이블을 생성 
- `ALTER` : 테이블 수정
- `DROP` : 데이터베이스, 테이블을 삭제
- `TRUNCATE` : 테이블을 초기화
- `RENAME` : 테이블 이름 변경 / 테이블 이동

__2. DML__

`Data Manipulate Language`의 약자로 스키마 내부의 데이터를 삭제하거나 수정하는 등 테이블에 있는 행과 열을 `조작`할 때 사용하는 쿼리문입니다.

대표적인 DML은 다음과 같습니다.

- `INSERT` : 데이터 삽입
- `UPDATE` : 데이터 수정
- `DELETE` : 데이터 삭제
- `MERGE` : 테이블 병합
- `LOCK TABLE` : 테이블 잠금 (쿼리문 실행 안됨.)

__3. DQL__

`Data Query Language`의 약자로 데이터를 검색하는 쿼리문입니다.

대표적인 DQL은 `SELECT`입니다.

__4. TCL__

`Transaction Control Language`의 약자로 DCL에서 트랜잭션을 제어하는 명령인 쿼리문을 분리하여 표현합니다.

데이터의 일관성을 유지하면서 안정적으로 데이터를 복구시키기 위해 사용합니다.

대표적인 TCL 문은 다음과 같습니다.

- `COMMIT` : 변경된 내용 영구 저장.
- `ROLLBACK` : 변경되기 이전 상태로 되돌림.
- `SAVEPOINT` : 특정 위치까지를 영구 저장 (저장점 지정)
- `SET TRANSACTION` : 트랜잭션 속성 설정 명령어.